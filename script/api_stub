#!/usr/bin/env perl

use v5.40;
use Mojolicious::Lite;

get '/' => sub ($c) {
    my $file = $c->app->home->child('..', 't', 'stub', 'json', 'sitemap.json');
    $c->render(
        format => 'json',
        data   => $file->slurp
    );
};

get '/threads' => sub ($c) {
    my $file = $c->app->home->child('..', 't', 'stub', 'json', 'threads.json');
    $c->render(
        format => 'json',
        data   => $file->slurp
    );
};

get '/search' => sub ($c) {
    my $file = $c->app->home->child('..', 't', 'stub', 'json', 'search.json');
    $c->render(
        format => 'json',
        data   => $file->slurp
    );
};

app->start;